# High Availability Fremisn Services - Environment Variables
# Copy this file to .env and modify the values according to your environment

# =============================================================================
# FREMISN SERVER CONFIGURATION
# =============================================================================

# Fremisn Master Server
FREMISN_MASTER_HOST=192.168.100.231
FREMISN_MASTER_PORT=4005

# Fremisn Slave Servers
FREMISN_SLAVE1_HOST=192.168.100.18
FREMISN_SLAVE1_PORT=4008
FREMISN_SLAVE2_HOST=192.168.100.17
FREMISN_SLAVE2_PORT=4009

# Additional servers (uncomment and configure if needed)
# FREMISN_SERVER3_HOST=192.168.100.50
# FREMISN_SERVER3_PORT=4009

# =============================================================================
# LOAD BALANCER CONFIGURATION
# =============================================================================

# Nginx Load Balancer Ports
LOAD_BALANCER_PORT=8081
NGINX_STATUS_PORT=8080

# Load Balancer Algorithm (round_robin, least_conn, ip_hash)
LB_ALGORITHM=round_robin

# Max connections per upstream server
MAX_CONNS_PER_SERVER=1

# Rate limiting (requests per second)
RATE_LIMIT=10r/s

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Grafana Configuration
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123

# Change this to a secure password in production!
GRAFANA_SECRET_KEY=your-secret-key-here

# Prometheus Configuration
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_SCRAPE_INTERVAL=15s

# Blackbox Exporter Configuration
BLACKBOX_PORT=9115
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s

# =============================================================================
# SSL/TLS CONFIGURATION (Optional)
# =============================================================================

# Enable SSL (true/false)
ENABLE_SSL=false

# SSL Certificate paths (relative to nginx/ssl/)
SSL_CERT_PATH=cert.pem
SSL_KEY_PATH=key.pem

# SSL Protocols
SSL_PROTOCOLS="TLSv1.2 TLSv1.3"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (debug, info, notice, warn, error, crit, alert, emerg)
LOG_LEVEL=info

# Log Rotation
LOG_MAX_SIZE=100M
LOG_MAX_FILES=10

# Access Log Format
LOG_FORMAT=main

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup Directory
BACKUP_DIR=/backup/fremisn

# Backup Retention (days)
BACKUP_RETENTION_DAYS=30

# Backup Schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================

# Enable Alerting (true/false)
ENABLE_ALERTING=false

# Slack Webhook URL for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email Configuration for alerts
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
ALERT_EMAIL_TO=admin@yourcompany.com

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Nginx Worker Processes (auto or number)
WORKER_PROCESSES=auto

# Nginx Worker Connections
WORKER_CONNECTIONS=1024

# Keepalive Timeout
KEEPALIVE_TIMEOUT=65

# Client Max Body Size
CLIENT_MAX_BODY_SIZE=1m

# Proxy Timeouts
PROXY_CONNECT_TIMEOUT=60s
PROXY_SEND_TIMEOUT=60s
PROXY_READ_TIMEOUT=60s

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker Compose Project Name
COMPOSE_PROJECT_NAME=fremisn-ha

# Docker Network Name
DOCKER_NETWORK=nf-visionaire

# Memory Limits
NGINX_MEMORY_LIMIT=256m
PROMETHEUS_MEMORY_LIMIT=1g
GRAFANA_MEMORY_LIMIT=512m
BLACKBOX_MEMORY_LIMIT=128m

# CPU Limits
NGINX_CPU_LIMIT=0.5
PROMETHEUS_CPU_LIMIT=1.0
GRAFANA_CPU_LIMIT=0.5
BLACKBOX_CPU_LIMIT=0.2

# =============================================================================
# DEVELOPMENT/DEBUG CONFIGURATION
# =============================================================================

# Debug Mode (true/false)
DEBUG_MODE=false

# Enable Nginx Debug Logs
NGINX_DEBUG=false

# Enable Prometheus Debug
PROMETHEUS_DEBUG=false

# Test Mode (for running tests)
TEST_MODE=false

# =============================================================================
# CUSTOM CONFIGURATION
# =============================================================================

# Add your custom environment variables here
# CUSTOM_VAR1=value1
# CUSTOM_VAR2=value2